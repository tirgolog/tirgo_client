"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[432],{90432:(j,h,c)=>{c.r(h),c.d(h,{AuthPageModule:()=>L});var g=c(36895),r=c(24006),a=c(48058),_=c(64228),l=c(97582),t=c(98274),m=c(20259),x=c(90849),C=c(80529),A=c(7053),d=c(67705),f=c(34032);function P(e,i){1&e&&(t.TgZ(0,"span",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430")))}function b(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"span",17)(1,"span",18),t._uU(2),t.qZA(),t.TgZ(3,"input",19),t.NdJ("ngModelChange",function(u){t.CHM(n);const s=t.oxw();return t.KtG(s.phone=u)}),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(2),t.AsE("",n.flag,"",n.prefix,""),t.xp6(1),t.Q6J("mask",n.mask)("ngModel",n.phone)}}function M(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"span",20)(1,"label",21),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"input",22),t.NdJ("ngModelChange",function(u){t.CHM(n);const s=t.oxw();return t.KtG(s.code=u)}),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(2),t.lnq("",t.lcZ(3,4,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u0441\u043c\u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u043d\u0430 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430")," ",n.prefix," ",n.phone,""),t.xp6(2),t.Q6J("ngModel",n.code)}}function Z(e,i){if(1&e&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.lnq("",t.lcZ(2,3,"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u0430\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0421\u041c\u0421 \u0447\u0435\u0440\u0435\u0437")," ",n.timer," ",t.lcZ(3,5,"\u0441\u0435\u043a"),".")}}function T(e,i){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"ion-item",24)(2,"ion-checkbox",25),t.NdJ("ngModelChange",function(u){t.CHM(n);const s=t.oxw();return t.KtG(s.policy=u)}),t.qZA(),t.TgZ(3,"ion-label"),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"a",26),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._uU(9,". "),t.qZA()(),t.TgZ(10,"ion-item",24)(11,"ion-checkbox",25),t.NdJ("ngModelChange",function(u){t.CHM(n);const s=t.oxw();return t.KtG(s.offer=u)}),t.qZA(),t.TgZ(12,"ion-label"),t._uU(13),t.ALo(14,"translate"),t.TgZ(15,"a",27),t._uU(16),t.ALo(17,"translate"),t.qZA(),t._uU(18,". "),t.qZA()(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngModel",n.policy),t.xp6(2),t.hij(" ",t.lcZ(5,6,"\u042f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e")," "),t.xp6(3),t.Oqu(t.lcZ(8,8,"\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438")),t.xp6(4),t.Q6J("ngModel",n.offer),t.xp6(2),t.hij(" ",t.lcZ(14,10,"\u042f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e")," "),t.xp6(3),t.Oqu(t.lcZ(17,12,"\u043f\u0443\u0431\u043b\u0438\u0447\u043d\u0443\u044e \u043e\u0444\u0435\u0440\u0442\u0443"))}}function k(e,i){1&e&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0421\u041c\u0421")))}function O(e,i){1&e&&(t.ynx(0),t._UZ(1,"ion-spinner"),t.BQk())}function v(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.signIn())}),t.YNc(1,k,3,3,"ng-container",10),t.YNc(2,O,2,0,"ng-container",10),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("disabled",n.loading),t.xp6(1),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("ngIf",n.loading)}}function y(e,i){1&e&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")))}function J(e,i){1&e&&(t.ynx(0),t._UZ(1,"ion-spinner"),t.BQk())}function E(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.verifyCode())}),t.YNc(1,y,3,3,"ng-container",10),t.YNc(2,J,2,0,"ng-container",10),t.qZA()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("ngIf",n.loading)}}function F(e,i){1&e&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0421\u041c\u0421")))}function I(e,i){1&e&&(t.ynx(0),t._UZ(1,"ion-spinner"),t.BQk())}function N(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.signIn())}),t.YNc(1,F,3,3,"ng-container",10),t.YNc(2,I,2,0,"ng-container",10),t.qZA()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("ngIf",n.loading)}}function Q(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"ion-item",36),t.NdJ("click",function(){const s=t.CHM(n).$implicit,p=t.oxw(3);return t.KtG(p.selectCode(s))}),t.TgZ(1,"ion-avatar",37)(2,"div",38),t._uU(3),t.qZA()(),t.TgZ(4,"ion-label")(5,"h2"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.TgZ(9,"b"),t._uU(10),t.qZA()()()()}if(2&e){const n=i.$implicit;t.xp6(3),t.hij(" ",n.flag," "),t.xp6(3),t.Oqu(n.name),t.xp6(2),t.hij("",n.code," "),t.xp6(2),t.Oqu(n.dial_code)}}function B(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"ion-content",32)(1,"ion-searchbar",33),t.NdJ("ionInput",function(u){t.CHM(n);const s=t.oxw(2);return t.KtG(s.findPhoneCode(u))})("click",function(){t.CHM(n),t.oxw();const u=t.MAs(1);return t.KtG(u.setCurrentBreakpoint(.75))}),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"ion-list",34),t.YNc(4,Q,11,4,"ion-item",35),t.qZA()()}if(2&e){const n=t.oxw(2);t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"\u041f\u043e\u0438\u0441\u043a \u043a\u043e\u0434\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430")),t.xp6(3),t.Q6J("ngForOf",n.phonescodes)}}const w=function(){return[0,.5,1]};function Y(e,i){1&e&&(t.TgZ(0,"ion-modal",30,31),t.YNc(2,B,5,4,"ng-template"),t.qZA()),2&e&&t.Q6J("swipeToClose",!1)("initialBreakpoint",.5)("breakpoints",t.DdM(3,w))}const U=[{path:"",component:(()=>{class e{constructor(n,o,u,s,p,D,G,S){this.router=n,this.app=o,this.storage=u,this.modalCtrl=s,this.httpClient=p,this.authService=D,this.navCtrl=G,this.alertController=S,this.phone="",this.prefix="+998",this.flag="\u{1f1fa}\u{1f1ff}",this.code="",this.mask="(00) 000-00-00",this.codeon=!1,this.error=!1,this.searchinput="",this.policy=!1,this.offer=!1,this.loading=!1,this.timer=59}ngOnInit(){this.getJSONFromLocal().subscribe(n=>{this.phonescodesOriginal=n,this.phonescodes=this.phonescodesOriginal},n=>console.error(`Failed because: ${n}`))}getJSONFromLocal(){return this.httpClient.get("./assets/json/phone.json")}signIn(){return(0,l.mG)(this,void 0,void 0,function*(){this.loading=!0,this.phone.length<this.mask.length?(yield this.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),this.loading=!1):this.offer?this.policy?yield this.authService.loginUser(this.prefix+""+this.phone).toPromise().then(n=>(0,l.mG)(this,void 0,void 0,function*(){n.status&&(this.codeon=!0,this.loading=!1,this.timer=59,setInterval(()=>{this.timer>0&&(this.timer=this.timer-1)},1e3)),this.error=!1})).catch(n=>(0,l.mG)(this,void 0,void 0,function*(){this.error=!0,this.loading=!1})):(yield this.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430","\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u0438\u043d\u044f\u0442\u044c \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"),this.loading=!1):(yield this.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430","\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u0438\u043d\u044f\u0442\u044c \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u0443\u044e \u043e\u0444\u0435\u0440\u0442\u0443"),this.loading=!1)})}verifyCode(){return(0,l.mG)(this,void 0,void 0,function*(){this.loading=!0,yield this.authService.verifyCode(this.prefix+""+this.phone,this.code).toPromise().then(n=>(0,l.mG)(this,void 0,void 0,function*(){n.status?(yield this.authService.setJwt(n.token),this.loading=!1):(yield this.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430",n.text),this.loading=!1),this.error=!1})).catch(n=>(0,l.mG)(this,void 0,void 0,function*(){this.loading=!1,this.error=!0}))})}findPhoneCode(n){this.searchinput=n.target.value,this.phonescodes=this.phonescodesOriginal.filter(o=>o.name?o.name.toLowerCase().includes(this.searchinput.toLowerCase())||!o.code?o.code:o.code.toLowerCase().includes(this.searchinput.toLowerCase())||!o.dial_code?o.dial_code:o.dial_code.toLowerCase().includes(this.searchinput.toLowerCase()):o.name)}selectCode(n){this.modalCtrl.dismiss(),this.prefix=n.dial_code,this.flag=n.flag,this.mask=n.mask}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_.F0),t.Y36(m.y),t.Y36(x.K),t.Y36(a.IN),t.Y36(C.eN),t.Y36(A.$),t.Y36(a.SH),t.Y36(a.Br))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-auth"]],decls:19,vars:12,consts:[[1,"ion-padding"],[1,"auth"],["src","/assets/logos/tirgo-logo.png","alt","\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",1,"auth__logo"],[1,"auth__main","form"],[1,"auth__inputs"],[1,"form__group"],["class","form__label",4,"ngIf"],["class","form__input input-mode-tel",4,"ngIf"],["class","form__input input-code",4,"ngIf"],["class","resend-sms",4,"ngIf"],[4,"ngIf"],["class","btn-orange",3,"disabled","click",4,"ngIf"],["class","btn-orange",3,"click",4,"ngIf"],[1,"auth__support","btn",3,"click"],[1,"icm-support"],["trigger","open-modal-select-code","class","modal-phone-select-code",3,"swipeToClose","initialBreakpoint","breakpoints",4,"ngIf"],[1,"form__label"],[1,"form__input","input-mode-tel"],["id","open-modal-select-code"],["type","text","inputmode","tel","id","phone","name","phone","placeholder"," (__) ___-__-__",1,"phone-input",3,"mask","ngModel","ngModelChange"],[1,"form__input","input-code"],["for","pass"],["id","pass","inputmode","tel","autocomplete","one-time-code","type","text","name","pass",3,"ngModel","ngModelChange"],[1,"resend-sms"],["lines","none",1,"agroinput","ion-no-margin","ion-no-padding","accept-text"],["slot","start",3,"ngModel","ngModelChange"],["href","https://tirgo.uz/privacy-policy/"],["href","https://tirgo.uz/public_offer.html"],[1,"btn-orange",3,"disabled","click"],[1,"btn-orange",3,"click"],["trigger","open-modal-select-code",1,"modal-phone-select-code",3,"swipeToClose","initialBreakpoint","breakpoints"],["modal",""],[1,"phone-code-select"],["slot","fixed",3,"placeholder","ionInput","click"],[1,"list-phone-code"],["lines","none",3,"click",4,"ngFor","ngForOf"],["lines","none",3,"click"],["slot","start"],[1,"flag-phone"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-content",0)(1,"main",1),t._UZ(2,"img",2),t.TgZ(3,"section",3)(4,"div",4)(5,"label",5),t.YNc(6,P,3,3,"span",6),t.YNc(7,b,4,4,"span",7),t.YNc(8,M,5,6,"span",8),t.YNc(9,Z,4,7,"span",9),t.qZA()(),t.YNc(10,T,19,14,"ng-container",10),t.YNc(11,v,3,3,"button",11),t.YNc(12,E,3,2,"button",12),t.YNc(13,N,3,2,"button",12),t.TgZ(14,"button",13),t.NdJ("click",function(){return o.authService.goToSupport()}),t._UZ(15,"i",14),t._uU(16),t.ALo(17,"translate"),t.qZA()(),t.YNc(18,Y,3,4,"ion-modal",15),t.qZA()()),2&n&&(t.xp6(6),t.Q6J("ngIf",!o.codeon),t.xp6(1),t.Q6J("ngIf",!o.codeon),t.xp6(1),t.Q6J("ngIf",o.codeon),t.xp6(1),t.Q6J("ngIf",o.timer>0&&o.codeon),t.xp6(1),t.Q6J("ngIf",!o.codeon),t.xp6(1),t.Q6J("ngIf",!o.codeon),t.xp6(1),t.Q6J("ngIf",o.codeon),t.xp6(1),t.Q6J("ngIf",o.codeon&&o.timer<=0),t.xp6(3),t.hij(" ",t.lcZ(17,10,"\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u0432 \u0441\u043b\u0443\u0436\u0431\u0443 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438")," "),t.xp6(2),t.Q6J("ngIf",!o.codeon))},dependencies:[g.sg,g.O5,r.Fj,r.JJ,r.On,a.BJ,a.nz,a.W2,a.Ie,a.Q$,a.q_,a.VI,a.PQ,a.ki,a.w,a.j9,d.hx,f.X$],styles:[".auth[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column}.auth__logo[_ngcontent-%COMP%]{width:13.75rem;margin:1.25rem 0 3.125rem}.auth__main[_ngcontent-%COMP%]{display:grid}.auth__inputs[_ngcontent-%COMP%]{margin-bottom:1.25rem}.auth__wrong-text[_ngcontent-%COMP%]{color:#d92e2e;padding:.3125rem 0;font-weight:500}.auth__submit[_ngcontent-%COMP%]{height:3.75rem;font-size:1.125rem;font-style:italic;margin-bottom:1.5625rem}.auth__forgot[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:1rem}.auth__forgot[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{color:#fff;font-size:1.125rem;padding:.9375rem 0;text-align:center}.auth__restore[_ngcontent-%COMP%]{border-bottom:.0625rem dashed;margin-left:.3125rem}.auth__support[_ngcontent-%COMP%]:has(.icm-support)   i.icm-support[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:300;margin-right:.625rem}.input-mode-tel[_ngcontent-%COMP%]{margin-right:10px}.input-mode-tel[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:80px;background:#413f4f;color:#fff;padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:center;flex-wrap:nowrap;align-content:center;position:absolute;height:56px;border-radius:4px 0 0 4px}.input-mode-tel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:70px;width:calc(100% - 70px)}.input-mode-tel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:15px!important;margin-bottom:15px!important}.input-code[_ngcontent-%COMP%]{display:block!important}.input-code[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:10px;color:#fff!important}.agroinput[_ngcontent-%COMP%]{background:#1c1a28;--background: #1c1a28;margin-bottom:10px}.agroinput[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-left:10px;color:#fff}.agroinput[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.agroinput[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{--background: #262434}.btn-orange[_ngcontent-%COMP%]{margin-bottom:10px}.resend-sms[_ngcontent-%COMP%]{display:block;color:#fff;margin-top:10px}.agroinput[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{--background: white!important;--background-checked: #ed901e}"]}),e})()}];let q=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[_.Bz.forChild(U),_.Bz]}),e})(),L=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,r.u5,a.Pc,q,d.Kf,f.aw]}),e})()}}]);