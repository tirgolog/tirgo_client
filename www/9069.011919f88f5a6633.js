"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9069],{9069:(k,y,u)=>{u.r(y),u.d(y,{SupportPageModule:()=>x});var h=u(6895),m=u(4006),c=u(8058),M=u(4228),C=u(7582),e=u(8274),_=u(7053);let S=(()=>{class n{static isString(t){return"string"==typeof t||t instanceof String}static caseInsensitiveSort(t,r){return n.isString(t)&&n.isString(r)?t.localeCompare(r):n.defaultCompare(t,r)}static defaultCompare(t,r){return t&&t instanceof Date&&(t=t.getTime()),r&&r instanceof Date&&(r=r.getTime()),t===r?0:null==t?1:null==r?-1:t>r?1:-1}static parseExpression(t){return(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".")}static getValue(t,r){for(let o=0,s=r.length;o<s;++o){if(!t)return;const i=r[o];if(!(i in t))return;t="function"==typeof t[i]?t[i]():t[i]}return t}static setValue(t,r,o){let s;for(s=0;s<o.length-1;s++)t=t[o[s]];t[o[s]]=r}transform(t,r,o,s=!1,i){return t&&(Array.isArray(r)?this.multiExpressionTransform(t,r.slice(),o,s,i):Array.isArray(t)?this.sortArray(t.slice(),r,o,s,i):"object"==typeof t?this.transformObject(Object.assign({},t),r,o,s,i):t)}sortArray(t,r,o,s,i){const p=r&&-1!==r.indexOf(".");let a;p&&(r=n.parseExpression(r)),a=i&&"function"==typeof i?i:s?n.caseInsensitiveSort:n.defaultCompare;const d=t.sort((g,f)=>r?p?a(n.getValue(g,r),n.getValue(f,r)):g&&f?a(g[r],f[r]):a(g,f):a(g,f));return o?d.reverse():d}transformObject(t,r,o,s,i){const p=n.parseExpression(r);let a=p.pop(),d=n.getValue(t,p);return Array.isArray(d)||(p.push(a),a=null,d=n.getValue(t,p)),d&&n.setValue(t,this.transform(d,a,o,s),p),t}multiExpressionTransform(t,r,o,s=!1,i){return r.reverse().reduce((p,a)=>this.transform(p,a,o,s,i),t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"orderBy",type:n,pure:!1}),n})(),v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[S]}),n})();var A=u(2217),P=u(4032);function O(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"p",14)(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"small"),e._uU(5),e.ALo(6,"formatTime"),e.qZA()(),e.BQk()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngClass",t.user_admin_id?"_support":"_client"),e.xp6(2),e.Oqu(t.text),e.xp6(2),e.Oqu(e.xi3(6,3,t.date,"DD MMMM YYYY \u0432 HH:mm"))}}const Z=[{path:"",component:(()=>{class n{constructor(t,r,o){this.navCtrl=t,this.authService=r,this.router=o,this.message="",this.disablebuttonsend=!1}ngOnInit(){}doRefresh(t){return(0,C.mG)(this,void 0,void 0,function*(){this.authService.messages=yield this.authService.getMessages().toPromise(),setTimeout(()=>{t.target.complete()},1e3)})}back(){this.navCtrl.back()}sendMessage(){this.disablebuttonsend=!0,this.authService.sendMessage(this.message).toPromise().then(t=>{this.authService.messages.push(t.data),this.disablebuttonsend=!1,this.message=""}).catch(t=>{this.authService.alert("\u0423\u043f\u0441","\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.SH),e.Y36(_.$),e.Y36(M.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-support"]],decls:22,vars:13,consts:[[1,"wrapper-fluid-header"],[1,"logo-wrap","personal-head"],[1,"top-back",3,"click"],["src","assets/img/arrow-left.svg","alt",""],["slot","fixed","pullFactor","1","pullMin","100","pullMax","200",3,"ionRefresh"],["pullingIcon","arrow-dropdown","refreshingSpinner","circles",1,"loadingspinner"],[1,"support"],[1,"support__messages"],[4,"ngFor","ngForOf"],[1,"support__input"],[1,"form__input"],["type","text",3,"disabled","placeholder","ngModel","ngModelChange"],[1,"support__submit",3,"disabled","click"],[1,"icm-send"],[1,"support__message",3,"ngClass"]],template:function(t,r){1&t&&(e.TgZ(0,"ion-header")(1,"div",0)(2,"div",1)(3,"button",2),e.NdJ("click",function(){return r.back()}),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"div"),e.qZA()()(),e.TgZ(9,"ion-content")(10,"ion-refresher",4),e.NdJ("ionRefresh",function(s){return r.doRefresh(s)}),e._UZ(11,"ion-refresher-content",5),e.qZA(),e.TgZ(12,"main",6)(13,"section",7),e.YNc(14,O,7,6,"ng-container",8),e.ALo(15,"orderBy"),e.qZA(),e.TgZ(16,"div",9)(17,"div",10)(18,"input",11),e.NdJ("ngModelChange",function(s){return r.message=s}),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"button",12),e.NdJ("click",function(){return r.sendMessage()}),e._UZ(21,"i",13),e.qZA()()()()()),2&t&&(e.xp6(6),e.Oqu(e.lcZ(7,6,"\u0421\u043b\u0443\u0436\u0431\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438")),e.xp6(8),e.Q6J("ngForOf",e.xi3(15,8,r.authService.messages,"created_at")),e.xp6(4),e.s9C("placeholder",e.lcZ(19,11,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")),e.Q6J("disabled",r.disablebuttonsend)("ngModel",r.message),e.xp6(2),e.Q6J("disabled",r.disablebuttonsend))},dependencies:[h.mk,h.sg,m.Fj,m.JJ,m.On,c.W2,c.Gu,c.nJ,c.Wo,S,A.Q,P.X$],styles:[".support[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column}.support[_ngcontent-%COMP%]   header.header[_ngcontent-%COMP%]{background:#1c1a28;position:fixed;width:100%;top:0;left:0;padding:.9375rem .625rem}.support__messages[_ngcontent-%COMP%]{padding:.3125rem 16px;flex:1 1 auto;display:flex;flex-direction:column;overflow:auto}.support__message[_ngcontent-%COMP%]{padding:.9375rem;border-radius:.625rem;background:#252333;color:#fff;width:75%;margin-bottom:.625rem}.support__message._support[_ngcontent-%COMP%]{text-align:left;border-bottom-left-radius:0}.support__message._client[_ngcontent-%COMP%]{text-align:right;margin-left:auto;border-bottom-right-radius:0}.support__message[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-top:5px;display:block}.support__input[_ngcontent-%COMP%]{padding:.9375rem;background:#1c1a28;position:fixed;width:100%;bottom:0;left:0;display:flex;align-items:center}.support__input[_ngcontent-%COMP%]:has([class*=icm-])   [class*=icm-][_ngcontent-%COMP%]{position:static}.support__input[_ngcontent-%COMP%]:has([class*=icm-])   input[_ngcontent-%COMP%]{padding-left:1.25rem;padding-right:3.125rem}.support__submit[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:2;right:.9375rem;padding:.3125rem}"]}),n})()}];let T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[M.Bz.forChild(Z),M.Bz]}),n})();var J=u(1059),F=u(1456);let x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[v,h.ez,m.u5,c.Pc,T,J.HeaderPageModule,F.h,P.aw]}),n})()}}]);